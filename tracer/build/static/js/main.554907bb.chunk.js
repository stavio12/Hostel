(this.webpackJsonptracer=this.webpackJsonptracer||[]).push([[0],{39:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"getHostel",(function(){return m})),n.d(c,"findHostel",(function(){return y}));var r,a=n(0),s=n.n(a),i=n(9),o=n.n(i),l=(n(39),n(10)),u=n(8),d=n(31);!function(e){e.FIND_HOSTEL="search_hostel",e.HOSTEL_SUCESS="find_hostel_success",e.ERROR="error"}(r||(r={}));var j={loading:!1,error:null,data:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.FIND_HOSTEL:return{loading:!0,error:null,data:[]};case r.HOSTEL_SUCESS:return{loading:!1,error:null,data:t.payload};case r.ERROR:return{loading:!1,error:t.payload,data:[]};default:return e}},b=Object(u.c)({hostel:h}),p=Object(u.d)(b,{},Object(u.a)(d.a)),O=n(13),f=n.n(O),x=n(19),v=n(20),g=n.n(v),m=function(){return function(){var e=Object(x.a)(f.a.mark((function e(t){var n,c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:r.FIND_HOSTEL}),e.prev=1,e.next=4,g.a.get("https://hosteltracerapi.herokuapp.com/api/hostel/");case 4:n=e.sent,c=n.data,console.log(c),a=c.data.map((function(e){return e})),t({type:r.HOSTEL_SUCESS,payload:a}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),t({type:r.ERROR,payload:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e,t){return function(){var n=Object(x.a)(f.a.mark((function n(c){var a,s,i;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:r.FIND_HOSTEL}),console.log(e,t),n.prev=2,n.next=5,g.a.get("https://hosteltracerapi.herokuapp.com/api/hostel?price[lte]=".concat(t,"&university=").concat(e,"&sort=price"));case 5:a=n.sent,s=a.data,0===(i=s.data.map((function(e){return e}))).length?c({type:r.ERROR,payload:"No Results Found!"}):c({type:r.HOSTEL_SUCESS,payload:i}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),console.log(n.t0),c({type:r.ERROR,payload:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()},S=n(21),N=n(72),E=n(71),R=l.c,C=n(67),T=n(68),w=n(69),F=n(70),H=n(73),L=n(1),U=function(){var e=R((function(e){return e.hostel})).data;return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(C.a,{children:[Object(L.jsxs)(T.a,{children:[" ",Object(L.jsx)(w.a,{children:e.map((function(e){return Object(L.jsx)(F.a,{xs:12,md:4,className:"pb-5",children:Object(L.jsxs)(H.a,{children:[Object(L.jsx)(H.a.Img,{variant:"top",src:e.imageCover}),Object(L.jsxs)(H.a.Body,{children:[Object(L.jsxs)(H.a.Title,{children:[Object(L.jsxs)("span",{className:"font-weight-bolder",children:[" ",e.hostelName]}),Object(L.jsx)("br",{})," ",e.location," .",Object(L.jsx)("abbr",{title:"Telephone",children:Object(L.jsx)("a",{href:"tel:+2562501258",children:e.contact})}),Object(L.jsxs)("span",{className:"price float-right p-2 text-white rounded font-weight-bolder",children:["GHC ",e.price," "]}),Object(L.jsx)("br",{}),"University: ",e.university]}),Object(L.jsxs)(H.a.Text,{children:[e.overview," "]})]})]})})}))})]})," "]})})},_=function(){var e=Object(a.useState)(""),t=Object(S.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(S.a)(s,2),o=i[0],d=i[1],j=function(){var e=Object(l.b)();return Object(u.b)(c,e)}(),h=j.findHostel,b=j.getHostel;Object(a.useEffect)((function(){b()}),[]);var p=R((function(e){return e.hostel})),O=p.data,f=p.error,x=p.loading;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:"container pb-5 mb-3",children:Object(L.jsxs)("div",{id:"perfect",children:[Object(L.jsxs)("h1",{className:"text-center  mb-5 place",children:["Find Your ",Object(L.jsx)("span",{className:"place font-weight-bolder",children:"Perfect Place."})]}),Object(L.jsx)("form",{id:"search",onSubmit:function(e){e.preventDefault(),h(n,o)},children:Object(L.jsx)("div",{className:"form-row align-items-center",children:Object(L.jsx)("div",{className:"col-12",children:Object(L.jsxs)("div",{className:"input-group",children:[Object(L.jsx)("div",{className:"input-group-prepend ",children:Object(L.jsx)("span",{className:"input-group-text bg-white",children:Object(L.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})}),Object(L.jsxs)("select",{onChange:function(e){return r(e.target.value)},value:n,className:"custom-select school offset-12",id:" inlineFormCustomSelectPref",required:!0,children:[Object(L.jsx)("option",{value:"default",children:"Search for a university hostel...."}),Object(L.jsx)("option",{value:"APoly",children:"Accra Technical University "}),Object(L.jsx)("option",{value:"upsa",children:"University of Professional Studies, Accra (UPSA)"}),Object(L.jsx)("option",{value:"legon",children:"University of Ghana"}),Object(L.jsx)("option",{value:"central",children:"Central University "}),Object(L.jsx)("option",{value:"gtuc",children:"Ghana Technology University College"})]}),Object(L.jsxs)("select",{onChange:function(e){return d(e.target.value)},value:o,className:"custom-select budget offset-12",id:"inlineFormCustomSelectPref",required:!0,children:[Object(L.jsx)("option",{value:"default",children:"Budget Range"}),Object(L.jsx)("option",{value:"299",children:"100 - 300"}),Object(L.jsx)("option",{value:"300",children:"300 - 600"}),Object(L.jsx)("option",{value:"600",children:"600 - "})]}),Object(L.jsx)("button",{type:"submit",className:"btn btn-primary pl-5 pr-5  ",children:"Search"})]})})})})]})}),Object(L.jsxs)("div",{className:"text-center container",children:[f&&Object(L.jsx)(N.a,{variant:"danger",children:f}),x&&Object(L.jsx)(E.a,{animation:"border",role:"status",children:Object(L.jsx)("span",{className:"sr-only",children:"Loading..."})})," "]}),!f&&!x&&O&&Object(L.jsx)(U,{})," "]})};var P=function(){return Object(L.jsx)(l.a,{store:p,children:Object(L.jsx)("div",{children:Object(L.jsx)(_,{})})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(L.jsx)(s.a.StrictMode,{children:Object(L.jsx)(P,{})}),document.getElementById("root")),k()}},[[65,1,2]]]);
//# sourceMappingURL=main.554907bb.chunk.js.map